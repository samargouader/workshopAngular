<div class="container my-5">
  <h2 class="mb-4">Ajouter une suggestion</h2>

  <form [formGroup]="suggestionForm" (ngSubmit)="onSubmit()" novalidate>

    <div class="mb-3">
      <label class="form-label">Titre</label>
      <input type="text" class="form-control" formControlName="title" placeholder="Titre">
      <div *ngIf="f['title'].touched && f['title'].invalid" class="text-danger small mt-1">
        <div *ngIf="f['title'].errors?.['required']">Le titre est requis.</div>
        <div *ngIf="f['title'].errors?.['minlength']">Le titre doit contenir au moins 5 caractères.</div>
        <div *ngIf="f['title'].errors?.['pattern']">Le titre doit commencer par une majuscule et ne contenir que des lettres.</div>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Description</label>
      <textarea class="form-control" formControlName="description" rows="5" placeholder="Description"></textarea>
      <div *ngIf="f['description'].touched && f['description'].invalid" class="text-danger small mt-1">
        <div *ngIf="f['description'].errors?.['required']">La description est requise.</div>
        <div *ngIf="f['description'].errors?.['minlength']">La description doit contenir au moins 30 caractères.</div>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Catégorie</label>
      <select class="form-select" formControlName="category">
        <option value="">-- Sélectionnez une catégorie --</option>
        <option *ngFor="let c of categories" [value]="c">{{ c }}</option>
      </select>
      <div *ngIf="f['category'].touched && f['category'].invalid" class="text-danger small mt-1">
        <div *ngIf="f['category'].errors?.['required']">La catégorie est requise.</div>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Date</label>
      <input class="form-control" formControlName="date" [value]="today | date:'dd/MM/yyyy'" readonly>
    </div>

    <div class="mb-3">
      <label class="form-label">Status</label>
      <input class="form-control" formControlName="status" value="en attente" readonly>
    </div>

    <button class="btn btn-primary" type="submit" [disabled]="suggestionForm.invalid">Soumettre</button>

  </form>
</div>